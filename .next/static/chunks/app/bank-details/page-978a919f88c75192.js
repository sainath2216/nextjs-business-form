(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{5137:(e,r,t)=>{Promise.resolve().then(t.bind(t,5445))},5445:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var n=t(5155),a=t(2115),s=t(6046),l=t(8947),o=t(3312),i=t(2679),c=t(9606),d=t(3415),u=t(3886),m=t(3900),x=t(4179);let f=d.Ik({bankAccountName:d.Yj().min(1,"Bank account name is required"),accountNumber:d.Yj().min(1,"Account number is required"),bankName:d.Yj().min(1,"Bank name is required"),ifscCode:d.Yj().regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),documentType:d.k5(["Cancelled Cheque","Scanned Passbook Copy (First Page)","Bank Statement","Letter Head (For Virtual Account)"]),document:d.bz().optional().nullable()});function p(){var e;let r=(0,s.useRouter)(),{updateFormData:t,formData:d,setCurrentStep:p}=(0,l.x)(),[h,j]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),v=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t]},N=(0,c.mN)({resolver:(0,i.u)(f),defaultValues:(null==d?void 0:d.bank)||{bankAccountName:"",accountNumber:"",bankName:"",ifscCode:"",documentType:"Cancelled Cheque",document:void 0}});if((0,a.useEffect)(()=>{v("BankDetailsForm mounted"),v("Initial formData:",d),v("Current step being set to 2"),p(2)},[p,d]),!d)return v("No form data available"),null;v("General form data:",d.general);let y=(null===(e=d.general)||void 0===e?void 0:e.partnerType)==="Customer";if(v("Is customer check:",y),y)return v("Showing customer view"),(0,n.jsxs)("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[(0,n.jsx)("h1",{children:"Bank Details Form"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Bank Details"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Bank Details can be skipped for customers."}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Click Next to proceed to GST Details."})]}),(0,n.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,n.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>r.push("/general"),className:"w-24",children:"Back"}),(0,n.jsx)(o.$,{onClick:()=>{v("Next clicked - updating form data"),t("bank",{skipped:!0,partnerType:"Customer"}),v("Navigating to GST details"),r.push("/gst-details")},className:"w-24",children:"Next"})]})]})]});v("Rendering full form");let k=e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(t){if(t.size>5242880){j("File size should be less than 5MB");return}if(!["application/pdf","image/jpeg","image/png"].includes(t.type)){j("Only PDF, JPEG, and PNG files are allowed");return}j(""),N.setValue("document",t)}};async function C(e){try{b(!0),t("bank",e),r.push("/gst-details")}catch(e){console.error("Error submitting form:",e)}finally{b(!1)}}return(0,n.jsx)(u.lV,{...N,children:(0,n.jsxs)("form",{onSubmit:N.handleSubmit(C),className:"space-y-8",children:[(0,n.jsx)(u.zB,{control:N.control,name:"bankAccountName",render:e=>{let{field:r}=e;return(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"Bank Business Account Name*"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(m.p,{placeholder:"Enter your bank account name",...r})}),(0,n.jsx)(u.Rr,{children:"Enter the name under which your bank account is registered"}),(0,n.jsx)(u.C5,{})]})}}),(0,n.jsx)(u.zB,{control:N.control,name:"accountNumber",render:e=>{let{field:r}=e;return(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"Bank Account No.*"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(m.p,{placeholder:"Enter Bank Account Number",...r})}),(0,n.jsx)(u.C5,{})]})}}),(0,n.jsx)(u.zB,{control:N.control,name:"bankName",render:e=>{let{field:r}=e;return(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"Bank Name*"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(m.p,{placeholder:"Enter Bank Name",...r})}),(0,n.jsx)(u.C5,{})]})}}),(0,n.jsx)(u.zB,{control:N.control,name:"ifscCode",render:e=>{let{field:r}=e;return(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"IFSC Code*"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(m.p,{placeholder:"Enter IFSC Code",...r})}),(0,n.jsx)(u.Rr,{children:"Enter your bank's IFSC code (e.g., HDFC0000001)"}),(0,n.jsx)(u.C5,{})]})}}),(0,n.jsx)(u.zB,{control:N.control,name:"documentType",render:e=>{let{field:r}=e;return(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"Which of the following would you like to upload?*"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(x.z,{onValueChange:r.onChange,defaultValue:r.value,className:"flex flex-col space-y-2",children:["Cancelled Cheque","Scanned Passbook Copy (First Page)","Bank Statement","Letter Head (For Virtual Account)"].map(e=>(0,n.jsxs)(u.eI,{className:"flex items-center space-x-3",children:[(0,n.jsx)(u.MJ,{children:(0,n.jsx)(x.C,{value:e})}),(0,n.jsx)(u.lR,{className:"font-normal",children:e})]},e))})}),(0,n.jsx)(u.C5,{})]})}}),(0,n.jsx)(u.zB,{control:N.control,name:"document",render:e=>{let{field:{value:r,onChange:t,...a}}=e;return(0,n.jsxs)(u.eI,{children:[(0,n.jsx)(u.lR,{children:"Upload Document*"}),(0,n.jsx)(u.MJ,{children:(0,n.jsx)(m.p,{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{var r;k(e),t((null===(r=e.target.files)||void 0===r?void 0:r[0])||null)},className:"cursor-pointer",...a})}),(0,n.jsx)(u.Rr,{children:"Upload the selected document (PDF, JPEG, PNG, max 5MB)"}),h&&(0,n.jsx)("p",{className:"text-sm font-medium text-destructive",children:h}),(0,n.jsx)(u.C5,{})]})}}),(0,n.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,n.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>r.push("/general"),children:"Back"}),(0,n.jsx)(o.$,{type:"submit",disabled:g,children:g?"Saving...":"Next"})]}),(0,n.jsx)("div",{className:"text-right text-sm text-gray-500",children:"3/8"})]})})}function h(){return(0,n.jsx)(p,{})}},3312:(e,r,t)=>{"use strict";t.d(r,{$:()=>c,r:()=>i});var n=t(5155),a=t(2115),s=t(2317),l=t(1027),o=t(1567);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:l,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(i({variant:a,size:l,className:t})),ref:r,...d})});c.displayName="Button"},3886:(e,r,t)=>{"use strict";t.d(r,{lV:()=>u,MJ:()=>g,Rr:()=>b,zB:()=>x,eI:()=>h,lR:()=>j,C5:()=>v});var n=t(5155),a=t(2115),s=t(2317),l=t(9606),o=t(1567),i=t(6195);let c=(0,t(1027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(i.b,{ref:r,className:(0,o.cn)(c(),t),...a})});d.displayName=i.b.displayName;let u=l.Op,m=a.createContext({}),x=e=>{let{...r}=e;return(0,n.jsx)(m.Provider,{value:{name:r.name},children:(0,n.jsx)(l.xI,{...r})})},f=()=>{let e=a.useContext(m),r=a.useContext(p),{getFieldState:t,formState:n}=(0,l.xW)(),s=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},p=a.createContext({}),h=a.forwardRef((e,r)=>{let{className:t,...s}=e,l=a.useId();return(0,n.jsx)(p.Provider,{value:{id:l},children:(0,n.jsx)("div",{ref:r,className:(0,o.cn)("space-y-2",t),...s})})});h.displayName="FormItem";let j=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:s,formItemId:l}=f();return(0,n.jsx)(d,{ref:r,className:(0,o.cn)(s&&"text-destructive",t),htmlFor:l,...a})});j.displayName="FormLabel";let g=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:l,formDescriptionId:o,formMessageId:i}=f();return(0,n.jsx)(s.DX,{ref:r,id:l,"aria-describedby":a?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!a,...t})});g.displayName="FormControl";let b=a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:s}=f();return(0,n.jsx)("p",{ref:r,id:s,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",t),...a})});b.displayName="FormDescription";let v=a.forwardRef((e,r)=>{let{className:t,children:a,...s}=e,{error:l,formMessageId:i}=f(),c=l?String(null==l?void 0:l.message):a;return c?(0,n.jsx)("p",{ref:r,id:i,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",t),...s,children:c}):null});v.displayName="FormMessage"},3900:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var n=t(5155),a=t(2115),s=t(1567);let l=a.forwardRef((e,r)=>{let{className:t,type:a,...l}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"},4179:(e,r,t)=>{"use strict";t.d(r,{C:()=>c,z:()=>i});var n=t(5155),a=t(2115),s=t(1470),l=t(3565),o=t(1567);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.bL,{className:(0,o.cn)("grid gap-2",t),...a,ref:r})});i.displayName=s.bL.displayName;let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.q7,{ref:r,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,n.jsx)(s.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(l.A,{className:"h-3.5 w-3.5 fill-primary"})})})});c.displayName=s.q7.displayName},1567:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var n=t(3463),a=t(9795);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,n.$)(r))}},8947:(e,r,t)=>{"use strict";t.d(r,{x:()=>s});var n=t(9827),a=t(709);let s=(0,n.v)()((0,a.Zr)(e=>({formData:{},currentStep:0,updateFormData:(r,t)=>e(e=>({formData:{...e.formData,[r]:t}})),setCurrentStep:r=>e({currentStep:r})}),{name:"form-storage",storage:(0,a.KU)(()=>localStorage)}))}},e=>{var r=r=>e(e.s=r);e.O(0,[946,770,466,441,517,358],()=>r(5137)),_N_E=e.O()}]);